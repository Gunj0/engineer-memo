# 生成に関するパターン

## Singleton

### 公式説明

あるクラスに対してインスタンスが 1 つしか存在しないことを保証し、
それにアクセスするためのグローバルな方法を提供する。

### 解説

- 基本
  - インスタンスを 1 つだけに限定する
- 詳細
  - GoF 本の方法
    - コンストラクタを private にして外部からは new できないようにする
    - 自身のインスタンスを格納する private static 変数を定義する
    - static GetInstance メソッドで、インスタンスがなければ new して private 変数に格納し、これを返す
  - プロパティに代入する方法
    - コンストラクタを private にして外部からは new できないようにする
    - Instance プロパティに自身のインスタンスを格納し、getter のみ設定する
  - static クラスを使う方法
    - class 自体を static にするとただ 1 つだけになる
    - 継承はできないので注意
    - 単体テストでは`[TestInitialize]`を使用して値をリセットするとよい
- メリット
  - 1 つしか存在してほしくないインスタンスを 1 つに限定できる
