# SOLID 原則

- オブジェクト指向の 5 大原則
  - ドメイン駆動開発の基礎

## 単一責任の原則: Single Responsibility Principle

- 基本
  - クラスの責務は 1 つ, 変更する理由は 1 つであるべし
- 詳細
  - 1. 登場人物に合わせて四角と線で最小カプセルにモデリングする
  - 1. これ以上分割すると制御できなくなる単位, 一言で説明できる単位になっているかチェックする
    - 例：タイマーインスタンス+スタートメソッド+ストップメソッド+存在チェックメソッド
    - 例：「〜するクラス」
  - 1. データを誰が持つか、データを持っている人がその振る舞いを持っているかを考える
- メリット
  - 修正箇所が最小になる, 修正箇所が明確になる

## オープン・クローズドの原則: Open-Closed Principle

- 基本
  - 既存プログラムをいじらずに機能拡張でき、修正は既存プログラムだけでできるべき
- 詳細
  - 1. Client からは 拡張ポイントを使い、Interface を実装した旧機能と新機能を使う
    - 拡張ポイントが Interface だと GoF の Strategy パターン
    - 拡張ポイントが Abstract クラスだと GoF の Template パターン
    - 拡張ポイントが Virtual メソッド(実装があるクラスを継承すること)は非推奨
  - 1. 新旧の判断は、Factory クラスで行う
  - 1. クラスを完全に別で作ると、クライアント側で結局使い分けが必要なので駄目
- メリット
  - 既存プログラムをいじらないのでデグレが起こりにくい
  - 既存プログラムの中だけで修正できる

## リスコフの置換原則: Liskov Substitution Principle

- 基本
  - サブクラスは基底クラスと置換可能であるべし
- 詳細
  - 基底クラスにすべて定義があり、サブクラスには一部を上書きする処理がある状態
  - サブクラスだけにある機能があってはならない
- メリット
  - クライアント側で条件分岐などで使い分ける必要がない

## インタフェース分離の原則: Interface Segregation Principle

## 依存関係逆転の原則: Dependency Inversion Principle
