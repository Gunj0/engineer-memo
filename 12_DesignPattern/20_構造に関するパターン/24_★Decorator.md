# 構造に関するパターン

## Decorator: 機能拡張ラッパー

### 公式説明

オブジェクトに責任を動的に追加する。
Decorator パターンは、サブクラス化よりも柔軟な機能拡張方法を提供する。

### 解説

- 基本
  - 継承よりも柔軟に、既存クラスを変更せずに機能を拡張する
- 詳細
  - `IComponent`を実装した、機能拡張したい`ComponentA`があるとする
  - 同じ`IComponent`を実装した`DecoratorUpper`を定義する
    - この中で`IComponent`クラスの`_child`変数に、拡張したい`ComponentA`を受け取る
    - `_child`のメソッドを呼び出し、拡張したい機能を追記する
  - Decorator が複数ある場合は`DecoratorUpper`は`Decorator`抽象クラスを作って継承させる
    - `Decorator`抽象クラスでは共通処理を書き、子クラスは固有処理のみを書く
- メリット
  - 継承やフラグ管理などと違い、コンポーネントの数 × 拡張機能で複雑にクラスが増えたりしない
  - コンポーネントごとの拡張機能を共通化することができる
