# デザインパターン

## デザインパターンとは

- オブジェクト指向における解決策を再利用するためのパターン
  - 原著: GoF 本 (Gang of Four), 23 パターン
    - 言語の進化により不要になったものもある

## 生成に関するパターン

### Singleton

- 基本
  - インスタンスを 1 つだけに保証する

### Abstract Factory

- 基本
- 詳細
- メリット

### Builder

### Factory Method

- 基本
- 詳細
- メリット

### Prototype

## 構造に関するパターン

### Facade: 建物の正面, 窓口

- 基本
  - クライアント側からサブシステムへの窓口となる統一インターフェースを定義する
- 詳細
  - static の ProjectFacade クラスを定義する(Service 等)
    - Interface を噛ませてクライアントからこれを参照すれば、Facade の入れ替えも容易になる
  - 各サブシステムを new して返すメソッドを定義する
  - 各サブシステムは基本的に internal にして、Facade, Entity, Dto だけを public にする
- メリット
  - クライアント側からどの処理を使えばいいか分かりやすくなる
    - 不要なアクセスをさせないようにできる
    - サブシステムの使い方のメモ・説明書にもなる
  - 使う際の知識を集約できる, 一連の手順を吸収できる

### Adapter: 規格の変換

- 基本
  - 変更できない・したくないオブジェクトの規格を、求めるインターフェースに変換する
- 詳細
  - Object Adapter パターン: コンポジション(has-a)【推奨】
    - ターゲットインターフェースを実装した Adapter クラスの中で Adaptee をインスタンス化して返す
  - Class Adapter パターン: 継承(is-a)
    - ターゲットインターフェースを実装して Adaptee を継承した状態で機能を返す
    - 二重継承の場合は使用できない。GoF 本でも非推奨。
- メリット
  - 元のファイル・クライアント側を変更せずに規格を統一して使用できる
    - 元のファイルのテストをする必要がなくなる

### Bridge

### Composite

### Decorator

### Flyweight

### Proxy

## 振る舞いに関するパターン

### Observer

- 基本
- 詳細
- メリット

### Strategy

- 基本
- 詳細
- メリット

### Template Method

- 基本
- 詳細
- メリット

### Chain of Responsibility

### Command

### Interpreter

### Iterator

### Mediator

### Memento

### State

### Visitor
