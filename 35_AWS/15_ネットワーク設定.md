# AWS 設定手順

## Region

- 米国（オレゴン） us-west-02
  - 安い検証用
- アジアパシフィック（東京） ap-northeast-01
  - 応答速度が早い本番用

## VPC

- 基本的には無料
  - NAT ゲートウェイなどを使わなければ
- VPC
  - VPC > VPC を作成
    - IPv4 CIDR: Classless Inter Domain Routing
      - 例: 10.0.0.0/16
        - 前半 16bit(10.0) はネットワーク部
        - 後半 16bit(0.0) はホスト部, 65,536 の IP アドレス設置可
- Public Subnet
  - VPC > サブネット > サブネットを作成
    - IPv4 サブネット CIDR ブロック
      - 例: 10.0.10.0/24
        - 前半 24bit(10.0.10) はネットワーク部
        - 後半 8bit(0)はホスト部, 256 の IP アドレス設置可
    - VPC に紐づける
- Private Subnet
  - VPC > サブネット > サブネットを作成
    - IPv4 サブネット CIDR ブロック
      - 例: 10.0.20.0/24
        - 前半 24bit(10.0.20) はネットワーク部
        - 後半 8bit(0)はホスト部, 256 の IP アドレス設置可
    - VPC に紐づける
- Internet Gateway
  - VPC > インターネットゲートウェイ > インターネットゲートウェイを作成
  - アクション > VPC にアタッチ
- Route Table
  - VPC > ルートテーブル > ルートテーブルを作成
    - VPC に紐づける
  - アクション > サブネットの関連付けを編集
    - Public Subnet を選択して「関連付けを保存」
  - ルート > ルートを編集 > ルートを追加
    - 0.0.0.0/0 インターネットゲートウェイ > 作成したゲートウェイ
      - VPC 内から 10.0.0.0/16 への通信は VPC 内へ(デフォルト)
      - それ以外(0.0.0.0/0)の通信はインターネットへ接続するようになる
